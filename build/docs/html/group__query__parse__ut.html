<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ripples: Parse Query</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ripples<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">High Performant Software Architecture For Transaction Processing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__query__parse__ut.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Parse Query<div class="ingroups"><a class="el" href="group__unit__tests.html">Unit Tests</a> &raquo; <a class="el" href="group__query__ut.html">Query</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Query parse unit tests. </p>
<div class="dynheader">
Collaboration diagram for Parse Query:</div>
<div class="dyncontent">
<div class="center"><img src="group__query__parse__ut.png" border="0" usemap="#agroup____query____parse____ut" alt=""/></div>
<map name="agroup____query____parse____ut" id="agroup____query____parse____ut">
<area shape="rect" title="Query parse unit tests." alt="" coords="115,5,215,31"/>
<area shape="rect" href="group__query__ut.html" title=" " alt="" coords="5,5,67,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtest__params__query__parse.html">test_params_query_parse</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac84441a9f4217068847e55501e0f833f" id="r_gac84441a9f4217068847e55501e0f833f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__query__parse__ut.html#gac84441a9f4217068847e55501e0f833f">ParameterizedTestParameters</a> (query, test_query_parse)</td></tr>
<tr class="separator:gac84441a9f4217068847e55501e0f833f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf477f506b934260a80c91285037b579b" id="r_gaf477f506b934260a80c91285037b579b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__query__parse__ut.html#gaf477f506b934260a80c91285037b579b">ParameterizedTest</a> (struct <a class="el" href="structtest__params__query__parse.html">test_params_query_parse</a> *param, query, test_query_parse)</td></tr>
<tr class="separator:gaf477f506b934260a80c91285037b579b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf477f506b934260a80c91285037b579b" name="gaf477f506b934260a80c91285037b579b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf477f506b934260a80c91285037b579b">&#9670;&#160;</a></span>ParameterizedTest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ParameterizedTest </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtest__params__query__parse.html">test_params_query_parse</a> *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">query&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">test_query_parse&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unit test for <a class="el" href="group__query.html#gaa6dc55685778db382330d1e4ef70d3df">query_parse</a> and <a class="el" href="group__query.html#ga0df26d3c47404b5de3f17d9b3d2a8468">query_parse_request_rr_question</a> . Focus of this test is on parsing query header and question section. Parsing EDNS and EDNS extensions have their own unit tests. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__query__parse__ut_gaf477f506b934260a80c91285037b579b_cgraph.png" border="0" usemap="#agroup__query__parse__ut_gaf477f506b934260a80c91285037b579b_cgraph" alt=""/></div>
<map name="agroup__query__parse__ut_gaf477f506b934260a80c91285037b579b_cgraph" id="agroup__query__parse__ut_gaf477f506b934260a80c91285037b579b_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,148,81"/>
<area shape="rect" href="group__config.html#gafaad023916a3592e6b8065e7ab8d78d1" title=" " alt="" coords="203,7,292,32"/>
<area shape="poly" title=" " alt="" coords="121,53,188,34,190,39,122,59"/>
<area shape="rect" href="group__query.html#gaf02c91b2cf24240c2a4e9e6c82fd1ee8" title=" " alt="" coords="204,56,291,81"/>
<area shape="poly" title=" " alt="" coords="148,66,190,66,190,71,148,71"/>
<area shape="rect" href="group__query.html#gaa6dc55685778db382330d1e4ef70d3df" title=" " alt="" coords="196,105,299,131"/>
<area shape="poly" title=" " alt="" coords="122,79,190,99,188,104,121,84"/>
<area shape="rect" href="group__query.html#ga4387ff7b5e07e5b8249928c0bb1ac35b" title=" " alt="" coords="347,49,505,89"/>
<area shape="poly" title=" " alt="" coords="293,103,339,90,341,95,295,108"/>
<area shape="rect" href="group__query.html#ga0df26d3c47404b5de3f17d9b3d2a8468" title=" " alt="" coords="347,130,505,170"/>
<area shape="poly" title=" " alt="" coords="300,125,334,131,333,136,299,130"/>
<area shape="rect" href="group__query.html#gaecf6360b330f2f7a882b4d0eca5d6da3" title=" " alt="" coords="565,5,733,31"/>
<area shape="poly" title=" " alt="" coords="505,48,578,31,579,36,506,53"/>
<area shape="rect" href="group__nsutils.html#ga9c3693281a90d416c4574dc690649be9" title=" " alt="" coords="807,105,966,131"/>
<area shape="poly" title=" " alt="" coords="506,70,619,79,744,91,805,100,804,106,744,97,618,84,505,76"/>
<area shape="rect" href="group__query.html#ga49ccb0e164ee4f981443c01bda0b7224" title=" " alt="" coords="792,5,981,31"/>
<area shape="poly" title=" " alt="" coords="733,15,779,15,779,21,733,21"/>
<area shape="rect" href="group__nsutils.html#ga3fbc63b1755777c7c8e4dfbc34c038e6" title=" " alt="" coords="553,107,744,132"/>
<area shape="poly" title=" " alt="" coords="505,136,542,131,543,137,506,142"/>
<area shape="rect" href="group__nsutils.html#ga353a9e812c934fe3559c11340c0913ad" title=" " alt="" coords="555,156,742,181"/>
<area shape="poly" title=" " alt="" coords="506,154,542,157,541,162,505,159"/>
<area shape="rect" href="group__nsutils.html#gaa3975da9d09ac3fed8f402eb992927e2" title=" " alt="" coords="585,205,713,231"/>
<area shape="poly" title=" " alt="" coords="482,168,554,191,581,199,580,204,553,197,481,173"/>
<area shape="poly" title=" " alt="" coords="708,203,743,192,802,164,853,135,855,140,805,169,745,196,710,208"/>
<area shape="rect" href="group__nsutils.html#ga7af536be87c215ae9fef0a19d5e39fa4" title=" " alt="" coords="816,205,957,231"/>
<area shape="poly" title=" " alt="" coords="713,215,802,215,802,221,713,221"/>
<area shape="rect" href="rip__ns__utils_8c.html#af80ef420be17f5df8caa419b9182026e" title=" " alt="" coords="1029,180,1109,205"/>
<area shape="poly" title=" " alt="" coords="957,206,1016,197,1016,203,958,211"/>
<area shape="rect" href="rip__ns__utils_8c.html#aab66a853b32f5d595cf0121a3b9b87a3" title=" " alt="" coords="1035,229,1103,255"/>
<area shape="poly" title=" " alt="" coords="958,225,1022,233,1021,238,957,230"/>
</map>
</div>

</div>
</div>
<a id="gac84441a9f4217068847e55501e0f833f" name="gac84441a9f4217068847e55501e0f833f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac84441a9f4217068847e55501e0f833f">&#9670;&#160;</a></span>ParameterizedTestParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ParameterizedTestParameters </td>
          <td>(</td>
          <td class="paramtype">query&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">test_query_parse&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unit test parameterized inputs for <a class="el" href="group__query.html#gaa6dc55685778db382330d1e4ef70d3df">query_parse</a> and <a class="el" href="group__query.html#ga0df26d3c47404b5de3f17d9b3d2a8468">query_parse_request_rr_question</a>.</p>
<p>A way to generate positive test input "buf" bytes is to use wireshark. Start wireshark, issue a dig command and in wireshark right click on "Domain Name System" field in the packet info frame, then select copy-&gt;...as Hex Dump. You will need to at '0x' in front of each byte, and ',' after each byte. Scripting these last two steps should be simple enough via python, sed, etc. </p>
<p>Negative, not enough bytes for query header, min needed is 12, have 3</p>
<p>Negative, not enough bytes for query header, min needed is 12, have 0</p>
<p>Negative, not enough bytes for query header, min needed is 12, have 11</p>
<p>Negative, truncated query request not supported</p>
<p>Negative, query op code unsupported, got "iquery" (supported is only "query")</p>
<p>Negative, query op code unsupported, got "14" (supported is only "query")</p>
<p>Negative, header response flag should not be set</p>
<p>Negative, question section count = 0</p>
<p>Negative, question section count = 2</p>
<p>Negative, query header indicates answer section is present</p>
<p>Negative, query header indicates authority section is present</p>
<p>Positive basic query, no EDNS, A IN www.example.com</p>
<p>Positive basic query, no EDNS, A IN com</p>
<p>Positive basic query, no EDNS, A IN .</p>
<p>Negative, question section missing though header indicates it is present.</p>
<p>Negative, question section partial, missing bytes.</p>
<p>Negative, question short by one byte</p>
<p>Negative, question short by two bytes</p>
<p>Negative, query type not supported, "rip_ns_t_wks" <br  />
</p>
<p>Negative, query type not supported, "rip_ns_t_dlv"</p>
<p>Negative, query class not supported, "rip_ns_c_chaos"</p>
<p>Negative, query class not supported, "rip_ns_c_none"</p>
<p>Negative, extra unaccounted for bytes present. Currently code ignores them and processes the query. Basic query, no EDNS, A IN www.example.com</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
